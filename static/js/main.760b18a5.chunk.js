(this["webpackJsonpformula-champions"]=this["webpackJsonpformula-champions"]||[]).push([[0],{38:function(e,t,a){e.exports=a(73)},44:function(e,t,a){},51:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);a(39);var n=a(0),r=a.n(n),c=a(33),l=a.n(c),o=a(13),i=a(10),s=(a(44),function(e){var t=e.children;return(r.a.createElement("div",{className:"app-layout"},r.a.createElement("header",{className:"app-header"}),r.a.createElement("div",{className:"app-container"},t)))}),u=r.a.createContext({allChampions:[],setAllChampions:function(){}}),m=a(5),d=a(6),p=a.n(d),h=a(22),v=a(9),f=a(75),E=a(76),b=a(74),y=function(e){var t=e.to,a=e.children,n=e.state;return(r.a.createElement(o.b,{to:{pathname:t,state:n}},a))},j=(a(51),function(e){var t=e.data.map((function(e){var t=e.name,a=e.nationality,n=e.wins,c=e.points,l=e.team,o=e.season,i=e.driverId;return(r.a.createElement("tr",{key:o},r.a.createElement("td",null,o),r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,l),r.a.createElement("td",null,n),r.a.createElement("td",null,c),r.a.createElement("td",{className:"button-holder"},r.a.createElement(y,{to:"season/".concat(o),state:{driverId:i}},r.a.createElement(E.a,null,"Details")))))}));return r.a.createElement(b.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Season"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Nationality"),r.a.createElement("th",null,"Team"),r.a.createElement("th",null,"Wins"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t))}),g=a(16),w=a.n(g),O=a(37),N=function(e){var t="application/json";return{instance:w.a.create(Object(O.a)({baseURL:"http://ergast.com/api/f1",headers:{common:{Accept:t},post:{"Content-Type":t},put:{"Content-Type":t},patch:{"Content-Type":t}}},e))}},x=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n,r,c,l,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.startYear,n=t.endYear,r=[],c=N(),l=c.instance;n>=a;)r.push(l.get("".concat(a,"/driverStandings.json"))),a+=1;return e.next=6,w.a.all(r).then(w.a.spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t}))).catch((function(e){console.log("Error!")}));case 6:if(!(o=e.sent)){e.next=9;break}return e.abrupt("return",k(o));case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.data.MRData.StandingsTable,n=a.season,r=Object(m.a)(a.StandingsLists,1),c=Object(m.a)(r[0].DriverStandings,1),l=c[0],o=l.points,i=l.wins,s=l.Driver,u=s.familyName,d=s.givenName,p=s.nationality,h=s.driverId,v=Object(m.a)(l.Constructors,1),f=v[0].name;return e.push({season:n,points:o,wins:i,name:"".concat(d," ").concat(u),nationality:p,team:f,driverId:h}),e}),[])},C=x,I=(a(69),function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(u),o=l.setAllChampions,i=l.allChampions;return Object(n.useEffect)((function(){var e=function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),2005,2015,e.next=5,C({startYear:2005,endYear:2015});case 5:t=e.sent,o((function(e){return[].concat(Object(h.a)(e),Object(h.a)(t))})),c(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===i.length&&e()}),[]),r.a.createElement("div",{className:"champions-wrapper"},r.a.createElement("div",{className:"champions-header"},r.a.createElement("h1",null,"2005 - 2015"),r.a.createElement("p",null," Formula1 races winners from 2005 to 2015.")),i&&r.a.createElement(j,{data:i}),a&&r.a.createElement("div",{className:"loader-holder"},r.a.createElement(f.a,{animation:"border",variant:"info"})))}),S=(a(70),function(e){var t=e.data,a=e.driverId;return(r.a.createElement(b.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Race"),r.a.createElement("th",null,"Driver"),r.a.createElement("th",null,"Team"),r.a.createElement("th",null,"Nationality"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,t.map((function(e){var t=e.name,n=e.nationality,c=e.team,l=e.time,o=e.raceName,i=e.driverId;return(r.a.createElement("tr",{key:o},r.a.createElement("td",null,o),r.a.createElement("td",null,t,i===a&&r.a.createElement("span",{className:"star"},"\u272a")),r.a.createElement("td",null,c),r.a.createElement("td",null,n),r.a.createElement("td",null,l)))})))))}),T=function(){var e=Object(v.a)(p.a.mark((function e(t){var a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=N(),n=a.instance,r="".concat(t,"/results/1.json"),e.next=4,n.get(r).catch((function(e){return console.log("Error!")}));case 4:if(!(c=e.sent)){e.next=7;break}return e.abrupt("return",D(c.data.MRData.RaceTable.Races));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){return e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.season,n=t.date,r=t.raceName,c=Object(m.a)(t.Results,1),l=c[0],o=l.Driver,i=o.familyName,s=o.givenName,u=o.nationality,d=o.driverId,p=l.Constructor.name,h=l.Time.time;return e.push({name:"".concat(s," ").concat(i),season:a,nationality:u,date:n,raceName:r,team:p,time:h,driverId:d}),e}),[])},R=T,A=(a(71),function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(i.h)().year,o=Object(i.g)().state;return Object(n.useEffect)((function(){(function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,R(l);case 3:t=e.sent,c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c,l]),r.a.createElement("div",{className:"seasons-wrapper"},r.a.createElement("div",{className:"seasons-header"},r.a.createElement("h1",null,l," Season"),r.a.createElement("p",null)),r.a.createElement(y,{to:"/"},r.a.createElement(E.a,{variant:"info"},"< Back to list")),a&&r.a.createElement(S,{data:a,driverId:(null===o||void 0===o?void 0:o.driverId)||""}))});var Y=function(){var e=function(){var e=r.a.useState([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return{allChampions:a,setAllChampions:r.a.useCallback((function(e){n(e)}),[])}}();return(r.a.createElement(u.Provider,{value:e},r.a.createElement(s,null,r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:I}),r.a.createElement(i.b,{exact:!0,path:"/season/:year",component:A}),r.a.createElement(i.a,{to:"/"}))))))};a(72),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.760b18a5.chunk.js.map